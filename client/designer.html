<template name ="designLevel">

  {{>levelDesigner}}

</template>






<!-- -----------------------------------------------------LEVEL DESIGNER ------------------------------------- -->

<template name="levelDesigner">

  <div class ="row"><br/><br/></div>
  <div class ="row">
    <div class="col-xs-4 scrollableColumn">

      {{>levelTable}}

      {{>mainSettings}}

      {{>addFeatures}}

      {{>mapKey}}
      

      <br/><br/><br/><br/><br/><br/><br/><br/><br/>

    </div>

    <div class="col-xs-8">
      {{>terrainMap}}
    </div>

  </div>

</template>

<template name="terrainMap">
  <table>
    <tbody>
      {{#each mapRow}}
      <tr>
        {{#each mapCol this.y}}
        <td class="designerCell" id="{{this.x}}-{{this.y}}" style = "background-color: {{elementColor this.terrain}}">          
          {{#if hasEntryPoint}}<div class="designerCellInside">{{this.entryPoint}}</div>{{/if}}
          {{#if hasExitPoint}}<div id="starCell" style = "background-color: {{elementColor this.exitPoint}}" class="designerCellInside"></div>{{/if}}
        </td>
        {{/each}}
      </tr>
      {{/each}}
    </tbody>
  </table>
</template>


<template name = "mapKey">
  <div class="panel panel-default">
    <div class="panel-body">
      <div>
        <h3>map key</h3>

        <table class="table">
          <tbody>

            {{#each elementsUsed}}
            <tr>
              <td>{{name}}</td>
              <td>{{type}}</td>

              {{#if elemTerrain}}
              <td><div class = "keyCell" style="background-color: {{color}}"></div></td>
              {{/if}}

              {{#if elemExitPoint}}
              <td><div id="starCell" class = "keyCell" style="background-color: {{color}}"></div></td>
              {{/if}}

            </tr>
            {{/each}}

          </tbody>
        </table>
      </div>

    </div>
  </div>
</template>


<template name="levelTable">
  <div class="panel panel-default">
    <div class="panel-body">
      <div class="tableOverflow">
        <table class="table table-bordered table-condensed">
          <thead>
            <tr>
              <th>Level name</th>
              <th>Creator</th>
            </tr>
          </thead>

          <tbody>
            {{#each levels}}
            <tr id={{this._id}} class="levelRow">
              <td>{{this.level}}</td>
              <td>{{creatorName}}</td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>


      <div class="form-group">
        <button type="submit" id="copyLevel" class="btn btn-success">Copy Level</button>
        <button type="submit" id="removeLevel" class="btn btn-danger adjustable">Delete Level</button>
      </div>
    </div>
  </div>
</template>

<template name="mainSettings">
  <div class="panel panel-default">
    <div class="panel-body">
    <h3>main settings</h3>
      <form role="form" class= "form-inline">
        <div class="form-group">

          <label for="levelName">Level Name</label>

          <input type="text" class="form-control adjustable" id="levelName" placeholder="eg. forest" value={{currentLevel.level}}>

        </div>

        <br/> <br/>

        <div class="form-group">
          <label for="levelWidth">Level width</label><input type="number" class="adjustable" id="levelWidth" min="2" max="50" step="1" value={{currentLevel.width}}>

          <label for="levelHeight">Level height</label><input type="number" class="adjustable" id="levelHeight" min="2" max="50" step="1" value={{currentLevel.height}}>
        </div>

      </form>

    </div>
  </div>

</template>

<template name="addFeatures">

  <div class="panel panel-default">
    <div class="panel-body">

      <form role="form">
        <div class="form-group">
          <h3>add features</h3>
          <label>Feature Type</label>
          <div class="btn-group">

            <button type="button" class="btn btn-default">{{currentFeatureType}}</button>
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
              <span class="caret"></span>
              <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu" role="menu">
              {{#each features}}
              <li><a class="featureOption" id={{this}} href="#">{{this}}</a></li>
              {{/each}}
            </ul>
          </div>

        </div>

        {{#if isTerrain}}
          {{>terrainSelector}}
        {{/if}}

        {{#if isEntryPoint}}
          {{>entrySelector}}
        {{/if}}

        {{#if isExitPoint}}
          {{>exitSelector}}
        {{/if}}
          
          
      </form>

    </div>
  </div>

</template>

<template name="terrainSelector">

  <label>Terrain type</label>
    <div class="btn-group">

      <button type="button" class="btn btn-default">{{currentElement.name}}</button>
      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
        <span class="caret"></span>
        <span class="sr-only">Toggle Dropdown</span>
      </button>
      <ul class="dropdown-menu" role="menu">
        {{#each myTerrains}}
        <li><a class="terrainOption" id={{name}} href="#">{{name}}</a></li>
        {{/each}}
      </ul>
    </div>

</template>


<template name="entrySelector">

  <label>Entry Point</label>
  <div class="btn-group">

    <button type="button" class="btn btn-default">{{currentEntryPoint}}</button>
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
      <span class="caret"></span>
      <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
      {{#each entryPoints}}
      <li><a class="entryOption" id="ep_{{this}}}" href="#">{{this}}</a></li>
      {{/each}}
    </ul>
  </div>

</template>


<template name="exitSelector">

  <label>Exit Point</label>
  <div class="btn-group">

    <button type="button" class="btn btn-default">{{currentElement.name}}</button>
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
      <span class="caret"></span>
      <span class="sr-only">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" role="menu">
      {{#each exitPoints}}
      <li><a class="exitOption" id="{{this._id}}" href="#">{{this.name}}</a></li>
      {{/each}}
    </ul>
  </div>


    <label for="removeBox">Remove items</label>
      <input id= "removeBox" type="checkbox">



</template>


<template name="boundarySelector">

</template>








